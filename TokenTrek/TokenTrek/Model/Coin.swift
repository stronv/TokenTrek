//
//  Coin.swift
//  TokenTrek
//
//  Created by Artyom Tabachenko on 16.04.2023.
//

import Foundation

// 2094.34

struct Coin: Codable {
    let id, symbol, name: String
    let image: String
    let currentPrice: Double
    let marketCapRank: Int
    let marketCap, fullyDilutedValuation: Double?
    let totalVolume, high24H, low24H: Double?
    let priceChange24H, priceChangePercentage24H, marketCapChange24H, marketCapChangePercentage24H: Double?
    let circulatingSupply, totalSupply, maxSupply, ath: Double?
    let athChangePercentage: Double?
    let athDate: String?
    let atl, atlChangePercentage: Double?
    let atlDate: String?
    let lastUpdated: String?
    let sparklineIn7D: SparklineIn7D?
    let priceChangePercentage24HInCurrency: Double?
    
    enum CodingKeys: String, CodingKey {
        case id, symbol, name, image
        case currentPrice = "current_price"
        case marketCap = "market_cap"
        case marketCapRank = "market_cap_rank"
        case fullyDilutedValuation = "fully_diluted_valuation"
        case totalVolume = "total_volume"
        case high24H = "high_24h"
        case low24H = "low_24h"
        case priceChange24H = "price_change_24h"
        case priceChangePercentage24H = "price_change_percentage_24h"
        case marketCapChange24H = "market_cap_change_24h"
        case marketCapChangePercentage24H = "market_cap_change_percentage_24h"
        case circulatingSupply = "circulating_supply"
        case totalSupply = "total_supply"
        case maxSupply = "max_supply"
        case ath
        case athChangePercentage = "ath_change_percentage"
        case athDate = "ath_date"
        case atl
        case atlChangePercentage = "atl_change_percentage"
        case atlDate = "atl_date"
        case lastUpdated = "last_updated"
        case sparklineIn7D = "sparkline_in_7d"
        case priceChangePercentage24HInCurrency = "price_change_percentage_24h_in_currency"
    }
}

struct SparklineIn7D: Codable {
    let price: [Double]?
}

//[
//  {
//    "id": "bitcoin",
//    "symbol": "btc",
//    "name": "Bitcoin",
//    "image": "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579",
//    "current_price": 27346,
//    "market_cap": 529276775324,
//    "market_cap_rank": 1,
//    "fully_diluted_valuation": 574249211721,
//    "total_volume": 16428203404,
//    "high_24h": 27893,
//    "low_24h": 27197,
//    "price_change_24h": -160.72757734802872,
//    "price_change_percentage_24h": -0.58433,
//    "market_cap_change_24h": -3034396561.17395,
//    "market_cap_change_percentage_24h": -0.57004,
//    "circulating_supply": 19355381,
//    "total_supply": 21000000,
//    "max_supply": 21000000,
//    "ath": 69045,
//    "ath_change_percentage": -60.43111,
//    "ath_date": "2021-11-10T14:24:11.849Z",
//    "atl": 67.81,
//    "atl_change_percentage": 40190.00606,
//    "atl_date": "2013-07-06T00:00:00.000Z",
//    "roi": null,
//    "last_updated": "2023-04-24T19:11:21.320Z",
//    "sparkline_in_7d": {
//      "price": [
//        29482.891152778448,
//        29529.57761171702,
//        29482.247957852975,
//        29470.70074654933,
//        29472.701948054055,
//        29529.7096121044,
//        29467.459829260344,
//        29366.67122354672,
//        29402.59173434213,
//        29488.900780302043,
//        29471.46688220696,
//        29498.108889908086,
//        29545.729475926808,
//        29699.948738215196,
//        29794.195794740594,
//        29724.885855450982,
//        29896.347767939526,
//        29903.79314192214,
//        30422.528807391893,
//        30349.591233057577,
//        30399.617025747924,
//        30278.38900635902,
//        30150.062243779634,
//        30237.10190353575,
//        30057.44297407933,
//        30145.425551216085,
//        30190.66834588295,
//        30359.9736274251,
//        30351.9016489808,
//        30328.60112605748,
//        30365.904167541412,
//        30333.848655580106,
//        30252.55884266151,
//        30202.165370759245,
//        30220.806591709632,
//        30203.95137990436,
//        30246.277940190706,
//        30127.16834499289,
//        30085.111660593484,
//        29330.76953752487,
//        29236.041521409872,
//        29190.37077445165,
//        29311.01747315262,
//        29235.24335458874,
//        29339.39775952225,
//        29425.49043313112,
//        29250.238788287592,
//        29349.12726593153,
//        29293.8944750474,
//        29268.244738817073,
//        29261.332210804416,
//        29248.90138984929,
//        29131.580098170038,
//        29119.08887652746,
//        28855.520636195044,
//        28913.8378990123,
//        28946.88496820719,
//        28788.534576207807,
//        28852.580042303205,
//        28888.880062803895,
//        28859.638519292563,
//        28964.811431737835,
//        28909.24983237458,
//        28866.806423111906,
//        28877.39428182795,
//        28831.192597605455,
//        28636.569072279508,
//        28925.92612128507,
//        28841.348627210256,
//        28726.17610031326,
//        28635.968200477084,
//        28546.461315594577,
//        28512.6521893388,
//        28347.30246703735,
//        28109.927769871916,
//        28200.280107038518,
//        28207.16914038693,
//        28262.53689320712,
//        28236.4723310163,
//        28341.51065822396,
//        28208.797602618713,
//        28226.21010289012,
//        28320.646445456863,
//        28243.315268813705,
//        28173.032273900717,
//        27998.382536691355,
//        28090.565648795397,
//        28075.692123862318,
//        28083.22007451724,
//        27997.981606751047,
//        28076.556527214885,
//        28212.661335723635,
//        28178.42607526491,
//        28055.904335909578,
//        27988.872146689064,
//        28026.987448536976,
//        27974.971686927805,
//        27817.88584083161,
//        27291.848685491423,
//        27325.041145384952,
//        27335.340047857786,
//        27269.556826790867,
//        27285.467595285652,
//        27239.533279559426,
//        27308.514550494605,
//        27266.47081746249,
//        27346.12819074985,
//        27372.75994936305,
//        27391.710658033106,
//        27357.275074581317,
//        27291.531353913157,
//        27277.724163832263,
//        27243.005276595693,
//        27280.476861870084,
//        27302.308425471645,
//        27370.715101654776,
//        27276.34702890849,
//        27426.12669619857,
//        27503.748486517157,
//        27617.89380127334,
//        27687.08238771089,
//        27622.68957456572,
//        27644.003785680845,
//        27680.8188912561,
//        27698.372128034764,
//        27866.446102522696,
//        27831.30655847881,
//        27556.482541717574,
//        27534.108438125688,
//        27619.56645592683,
//        27564.432591573594,
//        27627.107865086142,
//        27600.547212240876,
//        27618.95952301416,
//        27795.00589659776,
//        27717.253601198394,
//        27660.409594375888,
//        27536.90812362155,
//        27657.212534933893,
//        27642.893338107348,
//        27660.946024680197,
//        27565.86118242649,
//        27494.790449178556,
//        27578.70981784234,
//        27543.546599939236,
//        27435.162654470245,
//        27512.324672514256,
//        27503.680231943683,
//        27528.315863885837,
//        27602.61332264232,
//        27606.578347653143,
//        27639.816161190072,
//        27756.188953358724,
//        27710.255120862163,
//        27769.528510895383,
//        27709.79434773383,
//        27686.449621485815,
//        27586.49253322188,
//        27472.418798333663,
//        27288.217820516234,
//        27306.488116744466,
//        27399.841354123437,
//        27513.13536816055,
//        27478.702589888064,
//        27615.733460796997,
//        27521.67512280389,
//        27264.180868838637,
//        27262.24288139695
//      ]
//    },
//    "price_change_percentage_24h_in_currency": -0.5843277705157803
//  },
